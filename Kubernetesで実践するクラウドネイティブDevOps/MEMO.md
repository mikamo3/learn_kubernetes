# 2 Kubernetes最初の一歩

スタンドアロンで動かすときはminikube

立てたpodにアクセスするには

```
kubectl port-forward hogehoge 9999:8888
```

# 3 Kubernetes環境の選択

Kubernetesがコンテナのスケジューリングやサービス管理、APIリクエスト処理を実行するためのコントロールプレーンがある

ユーザのワークロードを実行するクラスタメンバはワーカーノードという

コントロールプレーンは高可用性を備えている

耐障害性を確保するため、複数のワーカーノード、アベイラビリティゾーンを分けるなど対処しておく

本番運用ではマネージドのほうが良さげ。むしろ特別な理由がないのであればセルフホスティングしないほうがいい

* GKE (google)
* EKS (amazon)
* AKE (azure)

原則

* 実行するソフトウェアを減らす
* 標準のテクノロジを選ぶ
* 差別化につながらない面倒な作業はアウトソーシングする
* 長続きする競争優位性を生み出す

# 4 Kubernetesオブジェクトの基本操作

Deployment: Kubernetesのスーパバイザ

コントローラ: 状態を望ましい状態と一致することを保証する

ReplicaSet: 同一Pod、レプリカのグループを管理する

スケジューラ: スケジューリングされていないPodのキューを監視して、そこから次のPodを取り出して実行場所となるノードを見つける

Service: PodのIPのかわりに単一の変化しないIPアドレス、DNS名が与えられ、任意の対応するPodへ自動的にルーティングされる

* port: Serviceの提供するポート
* targetPort: 対応するPodのポート
* selectorで対応するPodを指定

Helm:
  チャート: アプリケーションを実行するための必要なリリース
  リポジトリ: チャートを収集、共有できる場所
  リソース: 実行されるチャートの特定のインスタンス